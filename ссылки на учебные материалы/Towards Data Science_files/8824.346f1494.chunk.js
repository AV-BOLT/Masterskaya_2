(self.webpackChunklite=self.webpackChunklite||[]).push([[8824],{29969:(e,n,t)=>{"use strict";t.d(n,{X:()=>y});var i=t(63038),a=t.n(i),l=t(67294),o=t(6443),r=t(39727),d=t(77355),c=t(93310),m=t(20113),s=t(87691),u=t(18627),p=t(66411),k=t(14646),v=t(31889),f=t(34135),E=t(75221),S=t(43487),g=t(50458),N=t(19616),w=t(83302),x=function(e,n){return{borderTop:"1px solid ".concat(e.colorTokens.border.neutral.secondary.base),padding:"24px 0",marginBottom:"25px",minHeight:n}},T=function(e){var n=e.viewer,t=e.newsletterV3,i=e.newsletterV3LandingUrl,a=e.isOnCustomDomain,o=e.isVertical,r=e.handleClick;return t?n||a?l.createElement(N.x,{newsletterV3:t,buttonStyle:"SUBTLE",redirectUrl:a?i:void 0,isVertical:o}):l.createElement(w.Q,{newsletterV3:t,isVertical:o,handleClick:r}):null},y=function(e){var n,t,i,N,w,y=e.postId,F=e.publisher,h=e.isVertical,b=void 0!==h&&h,V=l.useRef(null),_=(0,S.v9)((function(e){return e.config.authDomain})),C=(0,u.Av)(),R=(0,k.I)(),O=(0,v.F)(),D=(0,o.H)().value,B=l.useState(!1),P=a()(B,2),j=P[0],L=P[1],I=l.useState("0px"),A=a()(I,2),U=A[0],W=A[1],Y=null==(0,S.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(_)),H=F.newsletterV3,K=null==H?void 0:H.type,M=F.username,q=void 0===M?"":M,G=(0,g.iB)(null!==(n=null==H?void 0:H.slug)&&void 0!==n?n:"",_,K===E.Rr.NEWSLETTER_TYPE_COLLECTION?F:void 0,K===E.Rr.NEWSLETTER_TYPE_AUTHOR&&q?q:void 0),Q="Collection"===F.__typename?F:void 0,X=(0,r.g)(Q).viewerEdge;switch(K){case E.Rr.NEWSLETTER_TYPE_COLLECTION:t="Sign up for ".concat(null==H?void 0:H.name),i="0px",N="You're an editor of ".concat(null==H?void 0:H.name),w=null==X?void 0:X.isEditor;break;case E.Rr.NEWSLETTER_TYPE_AUTHOR:t=(null==H?void 0:H.promoHeadline)||"Get an email whenever ".concat(F.name," publishes."),i="6px",N="You cannot subscribe to yourself",w=F.viewerEdge.isUser}j&&(t="Check your inbox.");var z=!1,$=function(){!z&&J()&&(C.event("newsletterV3.promoViewed",{newsletterV3Id:null==H?void 0:H.id,postId:y}),z=!0)},J=function(){var e;if(!V.current)return!1;var n=null===(e=V.current)||void 0===e?void 0:e.getBoundingClientRect(),t=n.top+n.height/2;return t>=0&&t<=window.innerHeight};return l.useEffect((function(){return $(),window&&f.V6.on("scroll",$),function(){f.V6.off("scroll",$)}}),[]),l.useEffect((function(){var e;if(V.current){var n=(null===(e=V.current)||void 0===e?void 0:e.getBoundingClientRect()).height;W("".concat(n,"px"))}}),[V]),H&&l.createElement(p.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},l.createElement("div",{ref:V,className:b?void 0:R(x(O,U))},l.createElement(d.x,{wordBreak:"break-word",paddingBottom:i},l.createElement(m.X6,{scale:"S"},t)),K===E.Rr.NEWSLETTER_TYPE_COLLECTION&&!j&&l.createElement(l.Fragment,null,l.createElement(d.x,{paddingTop:"4px"},l.createElement(s.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(F.name))),l.createElement(d.x,{paddingTop:"8px",paddingBottom:"10px"},l.createElement(s.F,{scale:"S",color:"DARKER"},null==H?void 0:H.description,"Â ",l.createElement(c.r,{inline:!0,linkStyle:"OBVIOUS",href:G},"Take a look.")))),K===E.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==H?void 0:H.promoBody)&&!j&&l.createElement(l.Fragment,null,l.createElement(d.x,{wordBreak:"break-word",paddingTop:"8px",paddingBottom:"8px"},l.createElement(s.F,{scale:"S",color:"DARKER"},null==H?void 0:H.promoBody))),w?l.createElement(d.x,{paddingTop:"10px"},l.createElement(s.F,{scale:"S",color:"DARKER"},N)):l.createElement(d.x,{display:"flex",flexWrap:"wrap"},l.createElement(T,{viewer:D,isOnCustomDomain:Y,newsletterV3:H,newsletterV3LandingUrl:G,isVertical:b,handleClick:function(){return L(!0)}}))))}},41422:(e,n,t)=>{"use strict";t.d(n,{L:()=>r});var i=t(319),a=t.n(i),l=t(95472),o=t(68216),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionDefaultBackgroundTheme_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}]}}].concat(a()(l.Gi.definitions),a()(o.nf.definitions))}},83302:(e,n,t)=>{"use strict";t.d(n,{Q:()=>L});var i,a,l=t(63038),o=t.n(l),r=t(59713),d=t.n(r),c=t(64718),m=t(21919),s=t(67294),u=t(92210),p=t(92548),k=t(93717),v=t(18839),f=t(12890),E=t(98096),S=t(77355),g=t(21755),N=t(87691),w=t(66411),x=t(31889),T=t(40980),y=t(75221),F=t(43487),h=t(6855),b=t(17583),V=t(50458),_=t(3207),C=t(4442),R=t(43405),O=t(20121);function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(Object(t),!0).forEach((function(n){d()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var P=(i={},d()(i,g.j.xl,"425px"),d()(i,g.j.lg,"425px"),d()(i,g.j.md,"375px"),d()(i,g.j.sm,"100%"),d()(i,g.j.xs,"100%"),i),j=(a={},d()(a,g.j.xl,"375px"),d()(a,g.j.lg,"375px"),d()(a,g.j.md,"325px"),d()(a,g.j.sm,"100%"),d()(a,g.j.xs,"100%"),a),L=function(e){var n=e.centerContent,t=void 0!==n&&n,i=e.newsletterV3,a=e.isVertical,l=e.handleClick,r=(0,x.F)(),d=(0,w.pK)(),D=(0,w.hp)(),L=(0,F.v9)((function(e){return e.config.authDomain})),I=(0,F.v9)((function(e){return e.navigation.currentLocation})),A=(0,F.v9)((function(e){return e.config.productName})),U=s.useState(""),W=o()(U,2),Y=W[0],H=W[1],K=s.useState(""),M=o()(K,2),q=M[0],G=M[1],Q=s.useState(!1),X=o()(Q,2),z=X[0],$=X[1],J=s.useState(!1),Z=o()(J,2),ee=Z[0],ne=Z[1],te=s.useState(!1),ie=o()(te,2),ae=ie[0],le=ie[1],oe=s.useState(!1),re=o()(oe,2),de=re[0],ce=re[1],me=s.useState(""),se=o()(me,2),ue=se[0],pe=se[1],ke="register",ve=i.type===y.Rr.NEWSLETTER_TYPE_AUTHOR?"Subscribe":"Get this newsletter",fe=null==I.match("http[s]?://[^/]*".concat(L)),Ee=i.collection,Se=i.id,ge=i.slug,Ne=i.user,we=(0,V.Zu)(Se),xe=Ee?(0,V.iB)(ge,L,Ee,(null==Ne?void 0:Ne.username)||""):I;(0,c.a)(O.qz,{fetchPolicy:"no-cache",skip:!we||fe,onCompleted:function(e){var n=e.accountToken;return n&&pe((0,v.hQ)(xe,d,D,we,n))}});var Te=function(e){H(e),$(!0),setTimeout((function(){return $(!1)}),f.zn),ne(!1),le(!1)},ye=function(){(0,h.J)(q)?(le(!0),ne(!0)):Te("Enter a valid email address.")},Fe=function(){Te("We couldn't process your request. Try again, or contact our support team.")},he=(0,m.D)(C.b,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":G(q),ce(!0),l&&l();break;case"BadRequest":Te("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:Fe()}},onError:Fe}),be=o()(he,1)[0],Ve={newsletterV3Id:Se,email:q,operation:ke,redirect:ue},_e=(0,b.s)()||g.j.lg,Ce=i.type===y.Rr.NEWSLETTER_TYPE_AUTHOR?P:j;return s.createElement(E.f,{theme:(0,_.jN)(Ee,r)},s.createElement(S.x,{alignItems:t?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:t?"center":"flex-start"},s.createElement(k.k,{callback:function(e){be({variables:B({captchaValue:e},Ve)})},shouldExecuteRecaptcha:ee}),s.createElement(S.x,{display:de?"none":"inline"},s.createElement(S.x,{alignItems:a?"flex-start":"flex-end",display:"flex",justifyContent:"space-between",flexDirection:a?"column":"row",sm:{alignItems:t?"center":"flex-start",flexDirection:"column",paddingTop:"16px"}},s.createElement(S.x,{marginTop:Y?{lg:"25px",xl:"25px",md:"25px",sm:"0",xs:"0"}:void 0,width:a?"100%":{lg:void 0,xl:void 0,md:void 0,sm:"100%",xs:"100%"}},s.createElement(f.II,{errorMessage:Y,handleInputChange:function(e){G(e.target.value.trim())},handleSubmit:ye,input:q,inputType:f.n$.EMAIL,isAnimating:z,textAlign:"start",placeholder:"Your email",width:a?"100%":Ce[_e],scale:"S"})),s.createElement(S.x,{marginBottom:"auto",marginLeft:a?"0":"15px",sm:{marginLeft:"0px",marginTop:"24px"},marginTop:a?"24px":void 0,flexShrink:"0"},ae?s.createElement(p.B,{newsletterV3Id:Se}):s.createElement(T.$,{eventData:{operation:ke}},s.createElement(u.w,{onClick:ye,buttonText:ve,buttonStyle:"SUBTLE"})))),s.createElement(S.x,{marginTop:Y?"10px":"20px",sm:{marginTop:"20px"}},s.createElement(N.F,{scale:"XS"},s.createElement(R.b,null)))),s.createElement(S.x,{display:de?"inline":"none",marginBottom:"15px",marginTop:"5px",height:"75px"},s.createElement(N.F,{color:"DARKER",scale:"M"},A," sent you an email at ",q," to complete your subscription."))))}},75865:(e,n,t)=>{"use strict";t.d(n,{Rf:()=>s});var i=t(319),a=t.n(i),l=t(13156),o=t(41422),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterSubscribeComponent_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeButton_newsletterV3"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"}}]}}].concat(a()(l.B.definitions),a()(o.L.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"promoHeadline"}},{kind:"Field",name:{kind:"Name",value:"promoBody"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterSubscribeComponent_newsletterV3"}}]}}].concat(a()(r.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUser"}}]}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(d.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(d.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_user"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_collection"}}]}}]}}].concat(a()(c.definitions),a()(m.definitions))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8824.346f1494.chunk.js.map